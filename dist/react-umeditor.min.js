!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.editor=e()}}(function(){return function e(t,n,o){function a(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n?n:e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(e,t,n){(function(e){"use strict";function n(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var o="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=o.createClass({displayName:"Dialog",getInitialState:function(){return{show:!1}},open:function(){this.setState({show:!0})},close:function(){this.setState({show:!1})},toggle:function(){this.setState({show:!this.state.show})},handleMouseDown:function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},render:function(){var e=this.props,t=(n(e,[]),e.className),a=e.buttons,i=e.title,s=e.style,r=e.width,l=e.height,s=s?s:{};r&&(s.width=r,s.marginLeft=-r/2),l&&(s.height=l),s.display=this.state.show?"":"none";var c="dialog"+(t?" "+t:"");return o.createElement("div",{className:"dialog-container",ref:"root",onMouseDown:this.handleMouseDown},o.createElement("div",{className:c,ref:"dialog",style:s},o.createElement("div",{className:"dialog-header",ref:"header"},o.createElement("a",{className:"dialog-close",onClick:this.props.onClose}),o.createElement("h3",{className:"dialog-title"},i)),o.createElement("div",{className:"dialog-body",ref:"body"},this.props.children),o.createElement("div",{className:"dialog-footer",ref:"footer"},a.map(function(e,t){return o.createElement("a",{className:"dialog-button",key:t,"data-name":e.name,onClick:e.onClick},e.content)}))),o.createElement("div",{className:"dialog-backdrop",ref:"backdrop",style:{display:this.state.show?"":"none"}}))}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){(function(e){"use strict";function n(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=a.createClass({displayName:"Dropdown",getInitialState:function(){return{show:!1,position:{x:0,y:0}}},componentDidMount:function(){window.addEventListener("click",this.close)},componentWillUnmount:function(){window.removeEventListener("click",this.close)},open:function(e){this.setState({show:!0,position:e})},close:function(){this.setState({show:!1})},toggle:function(e){this.setState({show:!this.state.show,position:e})},render:function(){var e=this.props,t=e.className,i=e.style,s=n(e,["className","style"]);return i=i||{},this.state.show?i.display="":i.display="none",this.state.position&&(i.left=this.state.position.x,i.top=this.state.position.y),a.createElement("div",o({style:i,className:"dropdown"+(t?" "+t:"")},s),a.createElement("div",{className:"dropdown-caret"}),this.props.children)}});t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,o=n.createClass({displayName:"TabGroup",getInitialState:function(){return{tabIndex:0}},setTabIndex:function(e){this.setState({tabIndex:e})},getTabIndex:function(){return this.state.tabIndex},handleClick:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index"));this.setTabIndex(n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},render:function(){var e=this.state.tabIndex,t=this.props.tabs,o=t[e].component,a=this.handleClick;return n.createElement("div",{className:"tab-group"},n.createElement("ul",{className:"tab-nav"},t.map(function(t,o){return n.createElement("li",{key:o,className:"tab-item"+(e==o?" active":"")},n.createElement("a",{"data-index":o,className:"tab-text",onClick:a},t.title))})),n.createElement("div",{className:"tab-content"},o))}});t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("react-dom"),i=e("../../utils/EditorSelection"),s=o.createClass({displayName:"EditorContentEditableDiv",getInitialState:function(){return{content:""}},componentDidMount:function(e){window.addEventListener("mousedown",this.handleWindowMouseDown)},componentWillUpdate:function(e){i.addRange()},componentDidUpdate:function(e){i.addRange()},getContent:function(){var e=a.findDOMNode(this.refs.root);return e.innerHTML},setContent:function(e){this.setState({content:e})},getName:function(){return"div"},handleWindowMouseDown:function(e){i.clearRange()},handleMouseDown:function(e){i.clearRange(),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){i.createRange(),window.removeEventListener("mouseup",this.handleMouseUp),this.props.onRangeChange&&this.props.onRangeChange(e)},render:function(){return o.createElement("div",{ref:"root",className:"editor-contenteditable-div",onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,contentEditable:!0,dangerouslySetInnerHTML:{__html:this.state.content}})}});t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/EditorSelection":17,"react-dom":void 0}],5:[function(e,t,n){(function(n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s=e("react-dom"),r=i.createClass({displayName:"EditorIcon",componentDidMount:function(){this.updateStyle()},componentDidUpdate:function(){this.updateStyle()},updateStyle:function(){var e=s.findDOMNode(this.refs.root),t=this.props.icon;switch(this.props.icon){case"forecolor":case"backcolor":var n=this.props.color?this.props.color:"transparent";e.id=t+"_"+(new Date).valueOf();var o=e.childElementCount>0?e.children[0]:document.createElement("style");o.innerHTML=".icon-"+t+"#"+e.id+":before{content:'';border-bottom:3px solid "+n+";}",0==e.childElementCount&&e.appendChild(o)}},handleClick:function(e){var t=this.props,n=(t.onClick,o(t,["onClick"]));this.props.onClick&&this.props.onClick(e,a({},n))},render:function(){var e=this.props,t=e.icon,n=e.active,s=e.disabled,r=e.showHtml,l=(e.onClick,o(e,["icon","active","disabled","showHtml","onClick"])),c=r&&"source"!=t&&"separator"!=t;return i.createElement("span",a({ref:"root",className:"editor-icon icon-"+t+(n?" active":"")+(s||c?" disabled":""),onClick:this.handleClick},l))}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-dom":void 0}],6:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("react-dom"),i=o.createClass({displayName:"EditorTextArea",getInitialState:function(){return{content:""}},getContent:function(){var e=a.findDOMNode(this.refs.root);return e.value},setContent:function(e){this.setState({content:e})},getName:function(){return"textarea"},handleChange:function(){var e=a.findDOMNode(this.refs.root);this.setState({content:e.value})},render:function(){return o.createElement("textarea",{ref:"root",className:"editor-textarea",value:this.state.content,onChange:this.handleChange})}});t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-dom":void 0}],7:[function(e,t,n){(function(n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,i=e("./EditorIcon.react"),s=e("../../constants/EditorConstants"),r=s.EditorIconTypes,l=e("../../utils/EditorHistory"),c=a.createClass({displayName:"EditorToolbar",getInitialState:function(){return{icons:["source | undo redo | bold italic underline strikethrough | superscript subscript | ","forecolor backcolor | removeformat | insertorderedlist insertunorderedlist | selectall | ","cleardoc  | justifyleft justifycenter justifyright | horizontal | image formula | inserttable"],selection:null}},handleIconClick:function(e,t){this.props.onIconClick&&this.props.onIconClick(e,t)},getIcons:function(){var e=this.props.editorState;e.icons.undo={disabled:!l.canUndo()},e.icons.redo={disabled:!l.canRedo()};var t=this.state.icons,n=t.join(" ").replace(/\|/gm,"separator").split(" ");n=n.filter(function(e){return""!=e});for(var o=[],a=0;a<n.length;a++)o[a]=r[n[a]],o[a].onClick=this.handleIconClick,o[a].icon=n[a],e.icons[n[a]]&&(o[a].disabled=!!e.icons[n[a]].disabled,o[a].active=!!e.icons[n[a]].active,o[a].color=e.icons[n[a]].color),o[a].showHtml=!!e.showHtml;return o},render:function(){var e=this.getIcons();return a.createElement("div",{className:"editor-toolbar"},e.map(function(e,t){var n=e;return a.createElement(i,o({key:t},n))}),this.props.children)}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../constants/EditorConstants":12,"../../utils/EditorHistory":15,"./EditorIcon.react":5}],8:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("../base/Dropdown.react"),i=e("../../constants/EditorConstants"),s=i.ColorTypes,r=o.createClass({displayName:"ColorDropdown",getInitialState:function(){return{handle:function(){}}},open:function(e,t){this.setState({handle:t}),this.refs.root.open(e)},close:function(){this.refs.root.close()},toggle:function(e){this.refs.root.toggle(e)},handleSelectColor:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-color");this.state.handle&&this.state.handle(e,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()},render:function(){var e=this.handleSelectColor;return o.createElement(a,{ref:"root",className:"color-dropdown"},o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",{className:"title-row",key:"title-row"},o.createElement("td",{colSpan:10},"主题颜色")),s.themeColors.map(function(t,n){var a=0==n;return o.createElement("tr",{key:n,className:a?"first-row":""},t.map(function(t,n){return o.createElement("td",{key:n},o.createElement("a",{className:"color-anchor","data-color":t,style:{backgroundColor:t},onClick:e}))}))}),o.createElement("tr",{className:"title-row",key:"title-row2"},o.createElement("td",{colSpan:10},"标准颜色")),o.createElement("tr",{className:"last-row",key:"last-row"},s.standardColors.map(function(t,n){return o.createElement("td",{key:n},o.createElement("a",{className:"color-anchor","data-color":t,style:{backgroundColor:t},onClick:e}))})))))}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../constants/EditorConstants":12,"../base/Dropdown.react":2}],9:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=(e("react-dom"),e("../base/TabGroup.react")),i=e("../base/Dropdown.react"),s=e("../../constants/EditorConstants"),r=s.FormulaTypes,l=o.createClass({displayName:"FormulaIcons",handleClick:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-latex"),o="mathquill-"+(new Date).valueOf();this.props.onSelectFormula&&this.props.onSelectFormula(e,n,o)},render:function(){var e=this.props.icons,t=this.handleClick;return o.createElement("ul",{className:"formulas-icons "+this.props.name},e.map(function(e,n){return o.createElement("li",{className:"latex-icon",key:n,"data-latex":e.latex,style:{backgroundPosition:e.backgroundPosition},onClick:t})}))}}),c=o.createClass({displayName:"FormulaDropdown",getInitialState:function(){return{handle:function(){}}},open:function(e,t){this.setState({handle:t}),this.refs.root.open(e)},close:function(){this.refs.root.close()},toggle:function(e){this.refs.root.toggle(e)},handleSelectFormula:function(e,t,n){e=e||event,this.state.handle&&this.state.handle(e,t,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()},render:function(){var e=[{title:"常用公式",component:o.createElement(l,{icons:r.commonFormulas,name:"common-formulas",onSelectFormula:this.handleSelectFormula})},{title:"符号",component:o.createElement(l,{icons:r.symbolFormulas,name:"symbol-formulas",onSelectFormula:this.handleSelectFormula})},{title:"字母",component:o.createElement(l,{icons:r.arabicFormulas,name:"arabic-formulas",onSelectFormula:this.handleSelectFormula})}];return o.createElement(i,{ref:"root",className:"formula-dropdown"},o.createElement(a,{tabs:e}))}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../constants/EditorConstants":12,"../base/Dropdown.react":2,"../base/TabGroup.react":3,"react-dom":void 0}],10:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("react-dom"),i=e("../base/Dialog.react"),s=e("../base/TabGroup.react"),r=e("../../utils/FileUpload"),l=o.createClass({displayName:"ImageUpload",getInitialState:function(){return{images:[]}},handleChange:function(e){e=e||event;var t=e.target||e.srcElement,n=a.findDOMNode(this.refs.mask),o=this,i=this.state.images;t.files.length>0&&(r.uploadFile({file:t.files[0],onLoad:function(e){n.style.display="block",n.innerHTML="Loading..."},onSuccess:function(e){n.style.display="block",n.innerHTML="Load Success",e&&"success"==e.status&&(i.push({src:e.image_src}),o.setState({images:i}),o.props.onChange&&o.props.onChange(0,i)),setTimeout(function(){n.style.display="none"},200)},onError:function(e){n.style.display="block",n.innerHTML="Load Error",setTimeout(function(){n.style.display="none"},200)}}),t.value="")},getImages:function(){return this.state.images},clearImages:function(){this.setState({images:[]})},handleRemoveImage:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index")),o=this.state.images;o.splice(n,1),this.setState({images:o}),this.props.onChange&&this.props.onChange(0,o)},render:function(){var e=this.state.images,t=this.handleRemoveImage,n=this.props.action?this.props.action:"/upload",a={display:"block"},i={display:"none"},s=e.length>0;return o.createElement("div",{className:"tab-panel"},o.createElement("div",{className:"image-content"},e.map(function(e,n){return o.createElement("div",{className:"image-item"},o.createElement("div",{className:"image-close",onClick:t}),o.createElement("img",{src:e.src,className:"image-pic",height:"75",width:"120"}))}),o.createElement("div",{className:"image-upload2",style:s?a:i},o.createElement("span",{className:"image-icon"}),o.createElement("form",{className:"image-form",method:"post",encType:"multipart/form-data",target:"up",action:n},o.createElement("input",{onChange:this.handleChange,style:{filter:"alpha(opacity=0)"},className:"image-file",type:"file",hidefocus:"",name:"file",accept:"image/gif,image/jpeg,image/png,image/jpg,image/bmp"})))),o.createElement("div",{className:"image-dragTip",style:s?i:a},"支持图片拖拽上传"),o.createElement("div",{className:"image-upload1",style:s?i:a},o.createElement("span",{className:"image-icon"}),o.createElement("form",{className:"image-form",method:"post",encType:"multipart/form-data",target:"up",action:n},o.createElement("input",{onChange:this.handleChange,style:{filter:"alpha(opacity=0)"},className:"image-file",type:"file",hidefocus:"",name:"file",accept:"image/gif,image/jpeg,image/png,image/jpg,image/bmp"}))),o.createElement("div",{className:"image-mask",ref:"mask"},"Loading...."))}}),c=o.createClass({displayName:"ImageSearch",getInitialState:function(){return{images:[]}},getImages:function(){return this.state.images},clearImages:function(){this.setState({images:[]})},handleClick:function(e){var t=a.findDOMNode(this.refs.text),n=t.value,o=this.state.images;n&&n.length>0&&(o.push({src:n}),this.setState({images:o}),this.props.onChange&&this.props.onChange(1,o),t.value="")},handleRemoveImage:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index")),o=this.state.images;o.splice(n,1),this.setState({images:o})},render:function(){var e=this.state.images,t=this.handleRemoveImage;return o.createElement("div",{className:"tab-panel"},o.createElement("table",{className:"search-bar"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,o.createElement("input",{className:"image-searchTxt",type:"text",ref:"text"})),o.createElement("td",null,o.createElement("div",{className:"image-searchAdd",onClick:this.handleClick},"添加"))))),o.createElement("div",{className:"image-content"},e.map(function(e,n){return o.createElement("div",{key:n,className:"image-item"},o.createElement("div",{className:"image-close","data-index":n,onClick:t}),o.createElement("img",{src:e.src,className:"image-pic",height:"75",width:"120"}))})))}}),d=o.createClass({displayName:"ImageDialog",getInitialState:function(){return{images:[[],[]],handle:function(){}}},open:function(e){this.setState({handle:e}),this.refs.modal.open()},close:function(){this.refs.modal.close(),this.state.handle&&this.state.handle(),this.refs.image.clearImages()},toggle:function(){this.refs.modal.toggle()},handleOkClick:function(e){var t=this.refs.tab.getTabIndex(),n=this.state.images[t],o="";if(n.length>0&&this.state.handle){for(var a=0;a<n.length;a++){var i=n[a].src,s="<img src='"+i+"' />";o+=s}this.state.handle(e,o)}this.close()},handleChange:function(e,t){var n=this.state.images;n[e]=t,this.setState({images:n})},render:function(){var e=[{name:"btn-ok",content:"确定",onClick:this.handleOkClick},{name:"btn-cancel",content:"取消",onClick:this.close}],t=[{title:"本地上传",component:o.createElement(l,{ref:"image",onChange:this.handleChange})},{title:"网络图片",component:o.createElement(c,{ref:"image",onChange:this.handleChange})}];return o.createElement(i,{ref:"modal",className:"image-dialog",width:700,height:508,title:"图片",buttons:e,onClose:this.close},o.createElement(s,{tabs:t,ref:"tab"}))}});t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/FileUpload":19,"../base/Dialog.react":1,"../base/TabGroup.react":3,"react-dom":void 0}],11:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=e("../base/Dropdown.react"),i=o.createClass({displayName:"TablePickerDropdown",getInitialState:function(){return{row:0,column:0,handle:function(){},position:{x:0,y:0}}},open:function(e,t){this.setState({handle:t,position:e}),this.refs.root.open(e)},close:function(){this.refs.root.close()},toggle:function(e){this.refs.root.toggle(e)},handleMouseEvent:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getBoundingClientRect(),o=Math.ceil((e.clientX-n.left)/22),a=Math.ceil((e.clientY-n.top)/22);0>o&&(o=0),0>a&&(a=0),o>10&&(o=10),a>10&&(a=10),this.setState({row:o,column:a})},handleMouseOut:function(e){this.setState({row:0,column:0})},handleClick:function(e){var t=document.createElement("table");t.className="editor-table";for(var n=t.createTBody(),o=0;o<this.state.row;o++)for(var a=n.insertRow(),i=0;i<this.state.column;i++){var s=a.insertCell();s.width=200}this.state.handle(e,t.outerHTML),this.refs.root.close()},render:function(){var e=this.state.row,t=this.state.column;return o.createElement(a,{ref:"root",className:"tablepicker-dropdown"},o.createElement("div",{className:"infoarea"}," ",o.createElement("span",null,t+"列 x "+e+"行")),o.createElement("div",{className:"pickarea",onMouseOver:this.handleMouseEvent,onMouseMove:this.handleMouseEvent,onMouseOut:this.handleMouseOut,onClick:this.handleClick},o.createElement("div",{className:"overlay",style:{width:22*e,height:22*t}})))}});t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../base/Dropdown.react":2}],12:[function(e,t,n){"use strict";var o={source:{title:"源代码",disabled:!1},separator:{disabled:!1},undo:{title:"撤销",disabled:!1},redo:{title:"重做",disabled:!1},bold:{title:"加粗",disabled:!1},italic:{title:"斜线",disabled:!1},underline:{title:"下划线",disabled:!1},strikethrough:{title:"删除线",disabled:!1},superscript:{title:"上标",disabled:!1},subscript:{title:"下标",disabled:!1},forecolor:{title:"字体颜色",disabled:!1},backcolor:{title:"背景色",disabled:!1},removeformat:{title:"清除格式",disabled:!1},insertunorderedlist:{title:"无序列表",disabled:!1},insertorderedlist:{title:"有序列表",disabled:!1},selectall:{title:"全选",disabled:!1},cleardoc:{title:"清空文档",disabled:!1},paragraph:{title:"段落格式",disabled:!1},fontfamily:{title:"字体",disabled:!1},fontsize:{title:"字号",disabled:!1},justifyleft:{title:"居左对齐",disabled:!1},justifycenter:{title:"居中对齐",disabled:!1},justifyright:{title:"居右对齐",disabled:!1},link:{title:"超链接",disabled:!1},unlink:{title:"取消链接",disabled:!1},emotion:{title:"表情",disabled:!1},image:{title:"图片",disabled:!1},video:{title:"视频",disabled:!1},map:{title:"百度地图",disabled:!1},horizontal:{title:"分隔线",disabled:!1},print:{title:"打印",disabled:!1},preview:{title:"预览",disabled:!1},drafts:{title:"草稿箱",disabled:!1},formula:{title:"数学公式",disabled:!1},inserttable:{title:"插入表格",disabled:!1}},a={themeColors:[["#fff","#000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],["#f2f2f2","7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada"],["#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5"],["#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f"],["#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09"],["#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806"]],standardColors:["#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"]},i={commonFormulas:[{backgroundPosition:"-0px -0px",latex:"\\frac{ }{ }"},{backgroundPosition:"-30px -0px",latex:"^{ }/_{ }"},{backgroundPosition:"-60px -0px",latex:"x^{ }"},{backgroundPosition:"-90px -0px",latex:"x_{ }"},{backgroundPosition:"-120px -0px",latex:"x^{ }_{ }"},{backgroundPosition:"-150px -0px",latex:"\\bar{ }"},{backgroundPosition:"-180px -0px",latex:"\\sqrt{ }"},{backgroundPosition:"-210px -0px",latex:"\\nthroot{ }{ }"},{backgroundPosition:"-0px -30px",latex:"\\sum^{ }_{n=}"},{backgroundPosition:"-60px -30px",latex:"\\log_{ }"},{backgroundPosition:"-90px -30px",latex:"\\ln"},{backgroundPosition:"-120px -30px",latex:"\\int_{ }^{ }"},{backgroundPosition:"-150px -30px",latex:"\\oint_{ }^{ }"}],symbolFormulas:[{backgroundPosition:"-0px -60px",latex:"+"},{backgroundPosition:"-30px -60px",latex:"-"},{backgroundPosition:"-60px -60px",latex:"\\pm"},{backgroundPosition:"-90px -60px",latex:"\\times"},{backgroundPosition:"-120px -60px",latex:"\\ast"},{backgroundPosition:"-150px -60px",latex:"\\div"},{backgroundPosition:"-180px -60px",latex:"/"},{backgroundPosition:"-210px -60px",latex:"\\bigtriangleup"},{backgroundPosition:"-0px -90px",latex:"="},{backgroundPosition:"-30px -90px",latex:"\\ne"},{backgroundPosition:"-60px -90px",latex:"\\approx"},{backgroundPosition:"-90px -90px",latex:">"},{backgroundPosition:"-120px -90px",latex:"<"},{backgroundPosition:"-150px -90px",latex:"\\ge"},{backgroundPosition:"-180px -90px",latex:"\\le"},{backgroundPosition:"-210px -90px",latex:"\\infty"},{backgroundPosition:"-0px -120px",latex:"\\cap"},{backgroundPosition:"-30px -120px",latex:"\\cup"},{backgroundPosition:"-60px -120px",latex:"\\because"},{backgroundPosition:"-90px -120px",latex:"\\therefore"},{backgroundPosition:"-120px -120px",latex:"\\subset"},{backgroundPosition:"-150px -120px",latex:"\\supset"},{backgroundPosition:"-180px -120px",latex:"\\subseteq"},{backgroundPosition:"-210px -120px",latex:"\\supseteq"},{backgroundPosition:"-0px -150px",latex:"\\nsubseteq"},{backgroundPosition:"-30px -150px",latex:"\\nsupseteq"},{backgroundPosition:"-60px -150px",latex:"\\in"},{backgroundPosition:"-90px -150px",latex:"\\ni"},{backgroundPosition:"-120px -150px",latex:"\\notin"},{backgroundPosition:"-150px -150px",latex:"\\mapsto"},{backgroundPosition:"-180px -150px",latex:"\\leftarrow"},{backgroundPosition:"-210px -150px",latex:"\\rightarrow"},{backgroundPosition:"-0px -180px",latex:"\\Leftarrow"},{backgroundPosition:"-30px -180px",latex:"\\Rightarrow"},{backgroundPosition:"-60px -180px",latex:"\\leftrightarrow"},{backgroundPosition:"-90px -180px",latex:"\\Leftrightarrow"}],arabicFormulas:[{backgroundPosition:"-0px -210px",latex:"\\alpha"},{backgroundPosition:"-30px -210px",latex:"\\beta"},{backgroundPosition:"-60px -210px",latex:"\\gamma"},{backgroundPosition:"-90px -210px",latex:"\\delta"},{backgroundPosition:"-120px -210px",latex:"\\varepsilon"},{backgroundPosition:"-150px -210px",latex:"\\varphi"},{backgroundPosition:"-180px -210px",latex:"\\lambda"},{backgroundPosition:"-210px -210px",latex:"\\mu"},{backgroundPosition:"-0px -240px",latex:"\\rho"},{backgroundPosition:"-30px -240px",latex:"\\sigma"},{backgroundPosition:"-60px -240px",latex:"\\omega"},{backgroundPosition:"-90px -240px",latex:"\\Gamma"},{backgroundPosition:"-120px -240px",latex:"\\Delta"},{backgroundPosition:"-150px -240px",latex:"\\Theta"},{backgroundPosition:"-180px -240px",latex:"\\Lambda"},{backgroundPosition:"-210px -240px",latex:"\\Xi"},{backgroundPosition:"-0px -270px",latex:"\\Pi"},{backgroundPosition:"-30px -270px",latex:"\\Sigma"},{backgroundPosition:"-60px -270px",latex:"\\Upsilon"},{backgroundPosition:"-90px -270px",latex:"\\Phi"},{backgroundPosition:"-120px -270px",latex:"\\Psi"},{backgroundPosition:"-150px -270px",latex:"\\Omega"}]};t.exports={EditorIconTypes:o,ColorTypes:a,FormulaTypes:i}},{}],13:[function(e,t,n){(function(n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,s=e("react-dom"),r=e("./constants/EditorConstants"),l=(r.EditorIconTypes,e("./utils/EditorHistory")),c=e("./utils/EditorSelection"),d=e("./utils/EditorDOM"),u=e("./utils/EditorResize.react"),p=e("./utils/EditorTimer"),f=e("./components/plugins/ColorDropdown.react"),h=e("./components/plugins/FormulaDropdown.react"),m=e("./components/plugins/TablePickerDropdown.react"),g=e("./components/plugins/ImageDialog.react"),b=e("./components/core/EditorToolbar.react"),x=e("./components/core/EditorTextArea.react"),w=e("./components/core/EditorContentEditableDiv.react"),v=MathQuill.getInterface(2),y=null,k=20,E=null,C=0,P=i.createClass({displayName:"Editor",getInitialState:function(){return{editorState:{showHtml:!1,icons:{}},defaultValue:this.props.defaultValue?this.props.defaultValue:"<p>This is an Editor</p>",value:this.props.value}},componentDidMount:function(){l.clear(),this.setContent(this.state.value?this.state.value:this.state.defaultValue);var e=s.findDOMNode(this.refs.editarea);e.addEventListener("keydown",this.handleKeyDown),e.addEventListener("keyup",this.handleKeyUp)},componentWillReceiveProps:function(e){this.props.value!=e.value&&this.setContent(e.value?e.value:e.defaultValue)},componentDidUpdate:function(){var e=this.state.editorState;switch(e.icon){case"source":this.setContent(e.content);break;case"cleardoc":this.setContent(e.content)}},handleKeyDown:function(e){e=e||event;var t=e.keyCode||e.which,n=this.autoSave;e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(0==l.getCommandStack().length&&(n(),C=0),clearTimeout(y),y=p.setTimeout(function(){var e=p.setInterval(function(){n(),C=0,p.clearInterval(e)},300)},200),E=t,C++,C>=k&&(n(),C=0))},handleKeyUp:function(e){e.keyCode||e.which;!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)},handleFocus:function(e){this.props.onFocus&&this.props.onFocus(e,this.findDOMNode("root"))},exchangeRangeState:function(e){var t=c.getRangeState();for(var n in t)if(e.icons[n]){switch(n){case"forecolor":case"backcolor":e.icons[n].color=t[n].color}e.icons[n].active=t[n].active}else e.icons[n]=t[n];return e},handleRangeChange:function(e){if(e=e||event,!e||"blur"!=e.type){var t=e?e.target||e.srcElement:null,n=c.getSelection();if(n&&n.rangeCount>0){var o=this.state.editorState;o=this.exchangeRangeState(o),this.setState({editorState:o}),this.refs.resize.clearTarget()}else if(t){var a=t.tagName.toUpperCase();switch(a){case"IMG":this.refs.resize.setTarget(t)}}}},handleToolbarIconClick:function(e,t){e=e||event;var n=e.target||e.srcElement,o=this.getOffsetRootParentPosition(n),a=this.handleRangeChange,i=s.findDOMNode(this.refs.editarea),r=this.state.editorState;switch(c.addRange(),t.icon){case"source":r.showHtml=!r.showHtml,t.active=r.showHtml,r.content=this.refs.editarea.getContent();break;case"undo":l.undo();break;case"redo":l.redo();break;case"bold":case"italic":case"underline":case"strikethrough":case"subscript":case"superscript":case"removeformat":case"insertorderedlist":case"insertunorderedlist":case"selectall":case"justifyleft":case"justifyright":case"justifycenter":l.execCommand(t.icon,!1,null);break;case"forecolor":c.storeRange(),o.y+=o.h+5,this.refs.color.open(o,function(e,t){i.focus(),c.restoreRange(),l.execCommand("forecolor",!1,t),a()});break;case"backcolor":c.storeRange(),o.y+=o.h+5,this.refs.color.open(o,function(e,t){i.focus(),c.restoreRange(),l.execCommand("backcolor",!1,t),a()});break;case"cleardoc":r.content="<p><br/></p>";break;case"horizontal":l.execCommand("inserthtml",!1,"<hr/><p><br/></p>");break;case"image":c.storeRange(),this.refs.image.open(function(e,t){i.focus(),c.restoreRange(),t&&t.length>0&&(c.range?l.execCommand("inserthtml",!1,t):i.innerHTML+=t)});break;case"formula":c.storeRange(),o.y+=o.h+5,o.x-=o.w/2;var d=this;this.refs.formula.open(o,function(e,t,n){if(i.focus(),c.restoreRange(),t&&t.length>0){var o='<p>&nbsp;<span class="mathquill-embedded-latex" id="'+n+'"></span>&nbsp;</p>';c.range?l.execCommand("inserthtml",!1,o):i.innerHTML+=o,p.setTimeout(function(){d.addFormula(n,t)},200),a()}});break;case"inserttable":c.storeRange(),o.y+=o.h+5,o.x-=o.w/2,this.refs.table.open(o,function(e,t){i.focus(),c.restoreRange(),l.execCommand("inserthtml",!1,t),a()})}r.icons[t.icon]=t,r.icon=t.icon,c.createRange(),r=this.exchangeRangeState(r),this.setState({editorState:r}),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getOffsetRootParentPosition:function(e){var t={x:0,y:0,w:0,h:0},n=s.findDOMNode(this.refs.root);t.w=e.offsetWidth,t.h=e.offsetHeight,t.x=e.offsetLeft,t.y=e.offsetTop;for(var o=e.offsetParent;o&&o!=n;)t.x+=o.offsetLeft,t.y+=o.offsetTop,o=o.offsetParent;return t},addFormula:function(e,t){
var n=s.findDOMNode(this.refs.editarea),o=document.getElementById(e),a={handlers:{edit:function(){}},restrictMismatchedBrackets:!0},i=v.MathField(o,a);i.latex(t);var r=$(o);r.keydown(d.stopPropagation),r.keyup(d.stopPropagation),r.mouseup(function(e){n.blur(),d.stopPropagation(e)}),r.mousedown(d.stopPropagation),$(n).mousedown(function(e){i.blur()})},autoSave:function(){l.execCommand("autosave",!1,null)},findDOMNode:function(e){var t=["root","editarea","toolbar","color"];return-1==t.indexOf(e)?{ref:null,dom:null}:{ref:this.refs[e],dom:s.findDOMNode(this.refs[e])}},setContent:function(e){if(this.refs.editarea.setContent(e),-1!=e.indexOf("mathquill-embedded-latex")){var t=this;p.setTimeout(function(){for(var e=s.findDOMNode(t.refs.editarea),n=e.querySelectorAll(".mathquill-embedded-latex"),o=0;o<n.length;o++)if(!n[o].id){var a="mathquill-"+o+"-"+(new Date).valueOf(),i=n[o].innerHTML;n[o].id=a,t.addFormula(a,i)}},200)}},getContent:function(){return this.refs.editarea.getContent()},focusEditor:function(){var e=s.findDOMNode(this.refs.editarea);e.focus()},genEditArea:function(){var e=this.state.editorState.showHtml;return e?i.createElement(x,{ref:"editarea"}):i.createElement(w,{ref:"editarea",onRangeChange:this.handleRangeChange})},render:function(){var e=this.genEditArea(),t=this.props,n=(t.onBlur,t.className),s=t.id,r=(t.onFocus,o(t,["onBlur","className","id","onFocus"]));return i.createElement("div",a({ref:"root",id:s,className:"editor-container editor-default"+(n?" "+n:""),onBlur:this.handleRangeChange,onFocus:this.handleFocus},r),i.createElement(b,{ref:"toolbar",editorState:this.state.editorState,onIconClick:this.handleToolbarIconClick},i.createElement(g,{ref:"image"}),i.createElement(f,{ref:"color"}),i.createElement(h,{ref:"formula"}),i.createElement(m,{ref:"table"})),e,i.createElement(u,{ref:"resize"}))}});t.exports=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/core/EditorContentEditableDiv.react":4,"./components/core/EditorTextArea.react":6,"./components/core/EditorToolbar.react":7,"./components/plugins/ColorDropdown.react":8,"./components/plugins/FormulaDropdown.react":9,"./components/plugins/ImageDialog.react":10,"./components/plugins/TablePickerDropdown.react":11,"./constants/EditorConstants":12,"./utils/EditorDOM":14,"./utils/EditorHistory":15,"./utils/EditorResize.react":16,"./utils/EditorSelection":17,"./utils/EditorTimer":18,"react-dom":void 0}],14:[function(e,t,n){"use strict";var o={stopPropagation:function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}};t.exports=o},{}],15:[function(e,t,n){"use strict";var o={curCommand:null,commandStack:[],commandIndex:-1,canUndo:function(){return this.commandStack.length>0&&-1!=this.commandIndex},canRedo:function(){return this.commandStack.length>0&&this.commandIndex!=this.commandStack.length-1},undo:function(){return this.canUndo()&&(this.commandIndex=this.commandIndex-1,this.curCommand=this.commandStack[this.commandIndex],document.execCommand("undo")),this.canUndo()},redo:function(){return this.canRedo()&&(this.commandIndex=this.commandIndex+1,this.curCommand=this.commandStack[this.commandIndex],document.execCommand("redo")),this.canRedo()},execCommand:function(e,t,n){document.execCommand(e,t,n),"selectall"!=e&&(this.commandIndex=this.commandIndex+1,this.curCommand={command:e,flag:t,args:n},this.commandStack.splice(this.commandIndex,this.commandStack.length-this.commandIndex),this.commandStack[this.commandIndex]={command:e,flag:t,args:n})},getCurCommand:function(){return this.curCommand},getCommandStack:function(){return this.commandStack},getCommandIndex:function(){return this.commandIndex},clear:function(){this.curCommand=null,this.commandStack=[],this.commandIndex=-1}};t.exports=o},{}],16:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=(e("react-dom"),12),i=12,s=o.createClass({displayName:"EditorResize",getInitialState:function(){return{target:null,position:{x:0,y:0},width:0,height:0,startPosition:{x:0,y:0},curPosition:{x:0,y:0}}},setTarget:function(e){var t=parseFloat(e.width||e.style.width),n=parseFloat(e.height||e.style.height),o=e.offsetLeft+e.offsetParent.offsetLeft,a=e.offsetTop+e.offsetParent.offsetTop;this.setState({target:e,width:t,height:n,show:!0,position:{x:o,y:a}})},getTarget:function(){return this.state.target},clearTarget:function(){this.setState({target:null,show:!1})},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},clearSelect:function(e){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()},getMousePosition:function(e){e=e||window.event;var t=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,o=parseFloat(e.pageX||e.clientX+t),a=parseFloat(e.pageY||e.clientY+n);return{x:o,y:a}},handleMouseDown:function(e){e=e||event;var t=e.target||e.srcElement,n=t.className,o=this.getMousePosition(e);this.clearSelect(),-1!=n.indexOf("nw-resize")&&this.setState({direction:"nw-resize",startPosition:o}),-1!=n.indexOf("ne-resize")&&this.setState({direction:"ne-resize",startPosition:o}),-1!=n.indexOf("sw-resize")&&this.setState({direction:"sw-resize",startPosition:o}),-1!=n.indexOf("se-resize")&&this.setState({direction:"se-resize",startPosition:o}),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove),this.stopPropagation(e)},handleMouseMove:function(e){if(this.state.direction){this.clearSelect(),e=e||event;var t=(e.target||e.srcElement,this.getMousePosition(e)),n=this.state.startPosition,o=t.x-n.x,s=t.y-n.y,r=this.state.width,l=this.state.height;switch(this.state.direction){case"nw-resize":r-=o,l-=s;break;case"ne-resize":r+=o,l-=s;break;case"sw-resize":r-=o,l+=s;break;case"se-resize":r+=o,l+=s}n=t,a>r&&(r=a),i>l&&(l=i),this.state.target&&(this.state.target.style.width=r+"px",this.state.target.style.height=l+"px"),this.setState({startPosition:n,width:r,height:l}),this.stopPropagation(e)}},handleMouseUp:function(e){if(this.state.direction){this.clearSelect(),e=e||event;var t=(e.target||e.srcElement,this.getMousePosition(e)),n=this.state.startPosition,o=t.x-n.x,s=t.y-n.y,r=this.state.width,l=this.state.height;switch(this.state.direction){case"nw-resize":r-=o,l-=s;break;case"ne-resize":r+=o,l-=s;break;case"sw-resize":r-=o,l+=s;break;case"se-resize":r+=o,l+=s}n=t,a>r&&(r=a),i>l&&(l=i),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),this.state.target&&(this.state.target.style.width=r+"px",this.state.target.style.height=l+"px"),this.setState({startPosition:n,height:l,width:r,direction:null}),this.stopPropagation(e)}},render:function(){var e={width:this.state.width,height:this.state.height,left:this.state.position.x,top:this.state.position.y,display:this.state.show?"block":"none",positoin:"absolute"};return o.createElement("div",{className:"editor-resize",style:e},o.createElement("div",{className:"block-resize nw-resize",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),o.createElement("div",{className:"block-resize ne-resize",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),o.createElement("div",{className:"block-resize sw-resize",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),o.createElement("div",{className:"block-resize se-resize",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}))}});t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-dom":void 0}],17:[function(e,t,n){"use strict";var o={range:null,selection:null,storedRange:!1,getSelection:function(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange():null},addRange:function(){this.storedRange||(this.selection=this.getSelection(),this.selection.removeAllRanges(),this.selection&&this.range&&(this.selection.addRange(this.range.cloneRange()),this.range=this.range.cloneRange()))},createRange:function(){this.storedRange||(this.selection=this.getSelection(),this.selection&&this.selection.rangeCount>0?this.range=this.selection.getRangeAt(0).cloneRange():this.range=null)},clearRange:function(){this.storedRange||(this.selection=this.getSelection(),this.selection.removeAllRanges())},getRangeState:function(){for(var e={},t="bold italic underline strikethrough",n=t.split(" "),o=0;o<n.length;o++)e[n[o]]={icon:n[o],active:!1};if(this.range)for(var a=this.range.startContainer.parentElement;"DIV"!=a.tagName.toUpperCase();){switch(a.tagName.toUpperCase()){case"I":e.italic={active:!0,icon:"italic"};break;case"B":e.bold={active:!0,icon:"bold"};break;case"U":e.underline={active:!0,icon:"underline"};break;case"STRIKE":e.strikethrough={active:!0,icon:"strikethrough"};break;case"SUP":e.superscript={active:!0,icon:"superscript"};break;case"SUB":e.subscript={active:!0,icon:"subscript"};break;case"FONT":e.forecolor={color:a.color,icon:"forecolor"},e.backcolor={color:a.style.backgroundColor,icon:"backcolor"};break;case"P":var i=a.style.textAlign?a.style.textAlign:"left";e.justifycenter={active:"center"==i,icon:"subscript"},e.justifyleft={active:"left"==i,icon:"subscript"},e.justifyright={active:"right"==i,icon:"subscript"}}a=a.parentElement}return e.forecolor||(e.forecolor={color:"transparent",icon:"forecolor"}),e.backcolor||(e.backcolor={color:"transparent",icon:"backcolor"}),e},storeRange:function(){this.storedRange=this.range?this.range.cloneRange():null},restoreRange:function(){this.range=this.storedRange?this.storedRange.cloneRange():null,this.storedRange=null,this.addRange()}};t.exports=o},{}],18:[function(e,t,n){"use strict";var o=1e3/60;window.requestAnimationFrame||(window.requestAnimationFrame=function(e){setTimeout(e,o)});var a=[],i=[],s=[],r=!1,l=0,c={addCount:function(){l+=1},setTimeout:function(e,t){return e.prototype.ms=t?t:o,e.prototype.key="timeout"+(new Date).valueOf()+"-"+Math.round(1e3*Math.random()),e.prototype.startTime=(new Date).valueOf(),e.prototype.endTime=(new Date).valueOf(),a.push(e),e.prototype.key},clearTimeout:function(e){var t=a.filter(function(t,n){return t.prototype.key==e});if(t.length>0){var n=a.indexOf(t[0]);return-1!=n&&(a.disabled=!0),t[0]}return null},setInterval:function(e,t){return e.prototype.ms=t?t:o,e.prototype.key="interval"+(new Date).valueOf()+"-"+Math.round(1e3*Math.random()),e.prototype.startTime=(new Date).valueOf(),e.prototype.endTime=(new Date).valueOf(),e.prototype.lastTime=(new Date).valueOf(),i.push(e),e.prototype.key},clearInterval:function(e){var t=i.filter(function(t,n){return t.prototype.key==e});if(t.length>0){var n=i.indexOf(t[0]);return-1!=n&&(i.disabled=!0),t[0]}return null},animate:function(e){if(window.requestAnimationFrame(c.animate),r){for(var t=0;t<s.length;t++)s[t]({count:l});c.addCount()}for(var t=0;t<a.length;t++)a[t].prototype.endTime=(new Date).valueOf(),a[t].prototype.endTime-a[t].prototype.startTime>=a[t].prototype.ms&&!a[t].prototype.disabled&&(a[t].call(a[t].prototype,a[t].prototype.endTime),a[t].prototype.disabled=!0);for(var t=0;t<i.length;t++)i[t].prototype.endTime=(new Date).valueOf(),i[t].prototype.endTime-i[t].prototype.lastTime>=i[t].prototype.ms&&!i[t].prototype.disabled&&(i[t].call(i[t].prototype,i[t].prototype.endTime),i[t].prototype.lastTime=i[t].prototype.endTime);a=a.filter(function(e,t){return!e.disabled}),i=i.filter(function(e,t){return!e.disabled})},startAnimation:function(){r=!0},stopAnimation:function(){r=!1},addAnimationHandler:function(e){var t=r;c.stopAnimation(e),window.requestAnimationFrame(function(){s.push(e),t&&c.startAnimation(e)})},removeAnimationHandler:function(e){var t=r;c.stopAnimation(e),window.requestAnimationFrame(function(){var n=s.indexOf(e);-1!=n&&s.splice(e,n),t&&c.startAnimation(e)})}};c.animate(),t.exports=c},{}],19:[function(e,t,n){"use strict";var o=function(e,t){var n="cannot post "+e.url+":"+t.status,o=new Error(n);return o.status=t.status,o.method="post",o.url=e.url,o},a=function(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}},i={post:function(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onLoad(t)});var n=new FormData;if(n.append(e.filename,e.file),e.data)for(var i in e.data)n[i]=e.data[i];t.onerror=function(t){e.onEnd(t),e.onError(t)},t.onload=function(n){return 200!==t.status?(e.onEnd(n),e.onError(o(e,t),a(t))):(e.onEnd(n),void e.onSuccess(a(t)))},t.open("post",e.url,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(n)}}};t.exports={uploadFile:function(e){e.url=e.url||"/upload",e.filename=e.filename||"file",e.beforeUpload=e.beforeUpload||function(e){return!0},e.onSuccess=e.onSuccess||function(e){},e.onError=e.onError||function(e){},e.onLoad=e.onLoad||function(e){},e.onStart=e.onStart||function(e){},e.onEnd=e.onEnd||function(e){},e.beforeUpload(e)&&(e.onStart(e),i.post(e))},uploadFiles:function(e){}}},{}]},{},[13])(13)});